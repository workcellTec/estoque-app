:root {
    /* TEMA: CYBER BLUE */
    --primary-color: #2979FF;       /* Azul Elétrico Brilhante */
    --primary-color-rgb: 41, 121, 255;
    --tertiary-color: #0B1120;      /* Azul Noturno Profundo (Fundo) */
    --text-color: #E2E8F0;          /* Branco Suave */
    --text-color-strong: #FFFFFF;
    --text-secondary: #94A3B8;      /* Cinza Azulado */
    --text-success: #00E676;        /* Verde Neon */
    
    /* Vidro mais azulado e moderno */
    --glass-bg: rgba(30, 41, 59, 0.7); 
    --glass-border: rgba(148, 163, 184, 0.1);
    --shadow-color: rgba(0, 0, 0, 0.4);
    
    --input-bg: rgba(15, 23, 42, 0.6);
    --input-border: rgba(56, 189, 248, 0.1); /* Borda sutil azul */
    
    --border-radius: 16px;
    --transition-duration: 0.3s;
    
    /* Brilhos de fundo */
    --glow-1: #00B0FF; /* Azul Claro */
    --glow-2: #2979FF; /* Azul Escuro */
}



[data-theme="light"] {
    --primary-color: #B71C1C;
    --primary-color-rgb: 183, 28, 28;
    --secondary-color: #f4f4f5;
    --tertiary-color: #ffffff;
    --text-color: #18181b;
    --text-color-strong: #000000;
    --text-secondary: #52525b;
    --text-success: #16a34a;
    --glass-bg: rgba(255, 255, 255, 0.75);
    --glass-border: rgba(0, 0, 0, 0.1);
    --shadow-color: rgba(183, 28, 28, 0.15);
    --input-bg: #f4f4f5;
    --input-border: #d4d4d8;
    --glow-1: #D1C4E9;
    --glow-2: #FFCDD2;
}

html { box-sizing: border-box; height: 100%; }
*, *:before, *:after { box-sizing: inherit; }



/* ============================================================
   ESTILOS GERAIS (CORRIGIDO PARA O TECLADO MOBILE)
   ============================================================ */
body {
    font-family: 'Poppins', sans-serif;
    background-color: var(--tertiary-color);
    color: var(--text-color);

    /* --- CORREÇÃO DE ALTURA --- */
    width: 100%;
    height: 100%;           /* Base */
    min-height: 100vh;      /* Fallback para navegadores antigos */
    min-height: 100dvh;     /* A MÁGICA: Altura Dinâmica que ignora o teclado */
    
    /* Previne o efeito elástico no iOS que revela o fundo branco */
    overscroll-behavior-y: none; 

    display: flex;
    flex-direction: column;
    overflow-x: hidden; /* Evita rolagem lateral acidental */
    position: relative;
    transition: background-color 0.3s, color 0.3s;
}

/* LUZ DE FUNDO (FIXA PARA NÃO SUBIR) */
body::before {
    content: "";
    position: fixed; /* Essencial ser FIXED */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%; /* Garante que ocupa a tela toda */
    
    /* O gradiente original do seu sistema */
    background: radial-gradient(circle at 50% 50%, var(--glow-2) 0%, transparent 60%),
                radial-gradient(circle at 80% 20%, var(--glow-1) 0%, transparent 40%);
    opacity: 0.08;
    z-index: -1;
    pointer-events: none;
    
    /* Animação suave */
    animation: moveGlow 15s infinite alternate ease-in-out;
    will-change: transform, opacity; /* Otimização de GPU */
}





body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    background:
        radial-gradient(circle at 20% 25%, var(--glow-1), transparent 40%),
        radial-gradient(circle at 80% 75%, var(--glow-2), transparent 40%),
        var(--tertiary-color);
    background-size: 200% 200%;
    opacity: 0.25;
    animation: moveGlow 40s ease infinite;
    will-change: background-position;
}

@keyframes moveGlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.container {
    width: 100%; max-width: 550px; margin: 0 auto; padding: 20px 15px;
    display: flex; flex-direction: column; align-items: center;
    height: 100%;
    overflow-y: auto;
    justify-content: flex-start;
    position: relative; z-index: 1;
    will-change: transform, opacity;
}

h2, h3, h4, h5 { font-weight: 600; text-align: center; color: var(--text-color); }

.section-header { width: 100%; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid var(--glass-border); flex-shrink: 0;}
.section-header h3 { margin-bottom: 0; font-size: 1.5rem; }

/* ATUALIZADO: Inclui #documentsHome na regra */
#mainMenu, #calculatorHome, #documentsHome {
    padding-top: 80px; 
    justify-content: flex-start;
}

#mainMenu h2, #calculatorHome h2, #documentsHome h2 {
    text-shadow: 0 1px 3px rgba(0,0,0,0.3);
    margin-bottom: 30px;
    color: var(--text-color);
}

.btn-menu {
    display: flex; align-items: center; justify-content: center; gap: 12px;
    font-weight: 500; border-radius: var(--border-radius); padding: 16px 24px;
    margin-bottom: 15px !important;
    background-color: var(--glass-bg);
    color: var(--text-color);
    border: 1px solid var(--glass-border);
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
    transition: all var(--transition-duration) ease;
    width: 100%; max-width: 320px;
}

.btn-menu:hover {
    background-color: rgba(255, 255, 255, 0.1);
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 12px 40px 0 rgba(0, 0, 0, 0.45);
    border-color: rgba(255, 255, 255, 0.2);
}

.content-card {
    background-color: var(--glass-bg);
    border-radius: var(--border-radius);
    padding: 25px; margin-bottom: 20px; width: 100%;
    border: 1px solid var(--glass-border);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    transition: background-color var(--transition-duration) ease, border-color var(--transition-duration) ease;
}

./* AQUI ESTAVA O ERRO: Adicionamos :not(#documentsHome) para ele NÃO esticar os botões */
.container:not(#mainMenu):not(#calculatorHome):not(#documentsHome) {
    padding-top: 20px; align-items: stretch;
}


.form-label { color: var(--text-secondary); margin-bottom: 8px; font-weight: 400; }
[data-theme="dark"] .form-label { color: var(--text-color); }

.form-control, .form-select {
    background-color: var(--input-bg); color: var(--text-color);
    border: 1px solid var(--input-border); border-radius: 12px !important;
    padding: 12px 15px; transition: all var(--transition-duration) ease;
    backdrop-filter: blur(2px);
}

.form-control::placeholder { color: var(--text-secondary); opacity: 0.7; }

.form-control:focus, .form-select:focus {
    background-color: var(--input-bg); color: var(--text-color);
    border-color: var(--primary-color);
    box-shadow: 0 0 0 0.2rem rgba(var(--primary-color-rgb), 0.25), 0 0 10px rgba(var(--primary-color-rgb), 0.4);
    outline: none;
}

.btn {
    transition: all var(--transition-duration) ease; font-weight: 500;
    border-radius: 12px; padding: 12px 20px;
    display: inline-flex; align-items: center; justify-content: center; gap: 8px;
}

.btn-primary {
    background: linear-gradient(135deg, #EF5350, #D32F2F);
    color: #FFF;
    border: none; box-shadow: 0 4px 12px var(--shadow-color);
}

.btn-primary:hover {
    background: linear-gradient(135deg, #D32F2F, #B71C1C);
    box-shadow: 0 6px 16px var(--shadow-color);
    transform: translateY(-1px);
}

.btn-back { background: none; color: var(--text-secondary); border: none; font-size: 1.2rem; padding: 5px; }
.btn-back:hover { color: var(--text-color); }

.toggle-switch {
    background-color: rgba(0,0,0,0.25);
    border-radius: var(--border-radius);
    padding: 4px;
    display: flex;
    justify-content: center;
    border: 1px solid var(--input-border);
    max-width: 400px;
    margin: 0 auto 1.5rem auto;
    position: relative;
}

.toggle-switch input[type="checkbox"] {
    display: none;
}

.toggle-switch label {
    width: 100%;
    display: grid;
    grid-template-columns: 1fr 1fr;
    text-align: center;
    position: relative;
    cursor: pointer;
    margin: 0;
    color: var(--text-secondary);
}

.toggle-switch label span {
    padding: 8px 15px;
    border-radius: calc(var(--border-radius) - 4px);
    transition: color var(--transition-duration);
    z-index: 2;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    font-size: 0.9rem;
    font-weight: 500;
}

.toggle-switch label::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 50%;
    height: 100%;
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    border-radius: calc(var(--border-radius) - 4px);
    transition: transform var(--transition-duration) cubic-bezier(0.25, 0.46, 0.45, 0.94);
    z-index: 1;
}

.toggle-switch input:checked + label::before {
    transform: translateX(100%);
}

.toggle-switch input:not(:checked) + label span:first-of-type,
.toggle-switch input:checked + label span:last-of-type {
    color: var(--text-color);
    font-weight: 600;
}

.hidden { display: none !important; }

.custom-modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(5px); display: flex; justify-content: center; align-items: center; z-index: 1056; opacity: 0; visibility: hidden; transition: opacity var(--transition-duration) ease, visibility var(--transition-duration) ease; }
.custom-modal-overlay.active { opacity: 1; visibility: visible; }
.custom-modal-content { background-color: var(--secondary-color); color: var(--text-color); padding: 30px; border-radius: var(--border-radius); text-align: center; max-width: 400px; width: 90%; box-shadow: 0 10px 40px var(--shadow-color); transform: scale(0.9); transition: transform var(--transition-duration) ease; border: 1px solid var(--glass-border); }
.custom-modal-overlay.active .custom-modal-content { transform: scale(1); }

#toastNotification {
    position: fixed;
    top: -100px;
    left: 50%;
    transform: translateX(-50%);
    background-color: var(--glass-bg);
    color: var(--text-color);
    padding: 12px 20px;
    border-radius: var(--border-radius);
    z-index: 10001;
    border: 1px solid var(--glass-border);
    backdrop-filter: blur(5px);
    box-shadow: 0 4px 15px var(--shadow-color);
    transition: top 0.4s ease-in-out, opacity 0.4s ease-in-out;
    opacity: 0;
    font-size: 0.9rem;
    pointer-events: none;
}

#toastNotification.show {
    top: 30px;
    opacity: 1;
}

#contractContainer .content-card { max-width: 800px; margin: 0 auto; }
.form-section-title { color: var(--primary-color); border-bottom: 1px solid var(--glass-border); }

#contractPreview { position: absolute; left: -9999px; top: auto; font-family: 'Times New Roman', Times, serif; font-size: 12pt; line-height: 1.5; color: #000; background: #FFF; padding: 1cm; width: 21cm; box-sizing: border-box; }
#contractPreview h4 { font-size: 14pt; text-align: center; margin-bottom: 24pt; font-weight: bold; color: #000; }
#contractPreview p, #contractPreview div { margin-bottom: 12pt; text-align: justify; color: #000;}
#contractPreview .section-title { font-weight: bold; margin-bottom: 6pt; text-transform: uppercase; color: #000;}
#contractPreview .signature-line { border-bottom: 1px solid #000; width: 80%; margin: 40px auto 5px auto; }

#administracao { max-width: 900px; }
#administracao .admin-section { margin-bottom: 30px; padding: 25px; background-color: var(--glass-bg); border-radius: var(--border-radius); border: 1px solid var(--glass-border); backdrop-filter: blur(5px); box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37); }

.user-id-display { position: fixed; bottom: 15px; left: 15px; background-color: var(--glass-bg); color: var(--text-secondary); padding: 8px 12px; border-radius: 8px; font-size: 0.8rem; z-index: 1000; backdrop-filter: blur(5px); border: 1px solid var(--glass-border); }
.spinner-border.text-primary { color: var(--primary-color) !important; }

.results-table { --bs-table-color: var(--text-color); --bs-table-bg: transparent; --bs-table-border-color: var(--glass-border); --bs-table-hover-bg: rgba(var(--primary-color-rgb), 0.1); --bs-table-hover-color: var(--text-color); }
.results-table thead th { color: var(--text-secondary); }
.results-table tbody tr.copyable-row { cursor: pointer; }
[data-theme="light"] .results-table { --bs-table-border-color: var(--input-border); }
.lucro-display { color: var(--text-success); }

@keyframes fadeInAndUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
.content-card, .admin-section { animation: fadeInAndUp 0.5s ease-out forwards; }

.btn:active, .btn-menu:active { transform: scale(0.97); transition: transform 0.1s ease; }
.lucro-extra-valor { color: #0d6efd; font-weight: bold; text-shadow: 0 0 4px rgba(0, 217, 255, 0.7); }
[data-theme="light"] .lucro-extra-valor { color: #0056b3; text-shadow: none; }

.product-data-row.is-active { background-color: rgba(var(--primary-color-rgb), 0.1); }
.product-separator-row td { padding: 0 !important; border: none; text-align: center; }
.btn-toggle-menu { background: transparent; border: none; border-top: 1px dashed var(--glass-border); color: var(--text-secondary); cursor: pointer; padding: 4px; width: 100%; line-height: 1; }
.btn-toggle-menu i { transition: transform 0.3s ease; }
.product-separator-row.is-active .btn-toggle-menu i { transform: rotate(180deg); }
.acoes-produto { display: none; }
.acoes-produto.is-active { display: table-row; }
.acoes-produto td { padding: 0 1rem 1rem 1rem !important; border: none !important; background-color: transparent; }
.acoes-produto .action-menu-content { display: flex; justify-content: space-between; align-items: center; gap: 10px; }
#productsTableBody .form-control { background-color: var(--input-bg) !important; border: 1px solid var(--input-border) !important; }

.extra-value-toggle { text-align: center; padding: 8px 0; margin: 8px auto; max-width: 400px; }
.btn-toggle-extra { background: none; border: none; border-top: 1px dashed rgba(var(--primary-color-rgb), 0.3); border-bottom: 1px dashed rgba(var(--primary-color-rgb), 0.3); color: var(--text-secondary); cursor: pointer; width: 100%; padding: 6px; opacity: 0.7; transition: opacity 0.3s ease; }
.btn-toggle-extra:hover { opacity: 1; }
.btn-toggle-extra i { transition: transform 0.3s ease; }
.btn-toggle-extra.is-active i { transform: rotate(180deg); }
.extra-value-container { max-height: 0; overflow: hidden; transition: max-height 0.35s ease-in-out, margin-top 0.35s ease-in-out; margin-top: 0; }
.extra-value-container.is-active { max-height: 150px; margin-top: 1rem; }

.favoritos { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-bottom: 15px; }
.favorito { display: flex; align-items: center; background-color: var(--input-bg); border-radius: 20px; border: 1px solid var(--input-border); overflow: hidden; transition: all 0.2s ease; }
.favorito:hover { box-shadow: 0 0 8px rgba(var(--primary-color-rgb), 0.3); }
.favorito-btn { background: none; border: none; color: var(--text-color); padding: 6px 12px; cursor: pointer; transition: background-color 0.2s; font-size: 0.9rem; }
.favorito-btn:hover { background-color: rgba(var(--primary-color-rgb), 0.2); }
.remove-favorito-btn { color: var(--text-secondary); cursor: pointer; padding: 6px 10px; font-size: 0.9rem; border-left: 1px solid var(--input-border); transition: all 0.2s ease; }
.remove-favorito-btn:hover { color: #fff; background-color: rgba(220, 53, 69, 0.7); }

.btn-flag { display: flex; align-items: center; justify-content: flex-start; gap: 15px; font-weight: 500; font-size: 1.1rem; border-radius: 10px; padding: 15px 20px; border: 1px solid var(--glass-border); background-color: var(--input-bg); color: var(--text-color); transition: background-color var(--transition-duration) ease, transform var(--transition-duration) ease, border-color var(--transition-duration) ease; width: 100%; }
.btn-flag:hover { background-color: var(--primary-color); border-color: var(--primary-color); color: #FFF; transform: translateY(-2px); }
.btn-flag i { font-size: 1.5rem; width: 30px; }

.btn-flag-display { background-color: var(--input-bg); color: var(--text-color); border: 1px solid var(--input-border); border-radius: 10px !important; padding: 12px 15px; width: 100%; text-align: left; cursor: pointer; display: flex; align-items: center; gap: 8px; }
.btn-flag-display:hover { border-color: var(--primary-color); }
.btn-flag-display i { font-size: 1.2rem; }

.stock-qty-input { font-weight: bold; }
.stock-qty-input::-webkit-outer-spin-button, .stock-qty-input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
.stock-qty-input[type=number] { -moz-appearance: textfield; }

.product-colors-display { display: flex; flex-wrap: wrap; gap: 4px; margin-top: 4px; }
.color-swatch-sm { width: 12px; height: 12px; border-radius: 50%; border: 1px solid rgba(255,255,255,0.2); }

#reportPreview { display: none; font-family: Arial, sans-serif; color: #000; background: #FFF; }
#reportPreview h3 { color: #000; font-size: 16pt; text-align: center; font-weight: bold; margin-bottom: 5px;}
#reportPreview p { color: #555; font-size: 10pt; text-align: center; margin-bottom: 20px;}
#reportPreview table { width: 100%; border-collapse: collapse; margin-top: 20px; }
#reportPreview th, #reportPreview td { border: 1px solid #ccc; padding: 8px; text-align: left; color: #000;}
#reportPreview th { background-color: #f2f2f2; font-weight: bold; }

#colorPickerModalContent { max-width: 500px; }
#colorPickerProductName { font-weight: 600; color: var(--primary-color); }
.color-palette { display: grid; grid-template-columns: repeat(auto-fill, minmax(40px, 1fr)); gap: 10px; margin-top: 15px; padding: 15px; background-color: var(--input-bg); border-radius: 10px; max-height: 200px; overflow-y: auto; }
.color-swatch-lg { width: 40px; height: 40px; border-radius: 50%; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; border: 2px solid transparent; }
.color-swatch-lg:hover { transform: scale(1.1); }
.color-swatch-lg.selected { border-color: var(--primary-color); box-shadow: 0 0 10px var(--primary-color); }

#selectedColorsContainer { margin-top: 20px; padding-top: 15px; border-top: 1px solid var(--glass-border); min-height: 50px; }
.selected-color-tag { display: inline-flex; align-items: center; gap: 6px; background-color: var(--input-bg); border-radius: 15px; padding: 5px 10px; margin: 3px; font-size: 0.9rem; }
.selected-color-tag .color-swatch-sm { border-color: rgba(0,0,0,0.2); }
.remove-color-btn { cursor: pointer; font-size: 1.1rem; line-height: 1; opacity: 0.7; }
.remove-color-btn:hover { opacity: 1; }

input[type="color"] { -webkit-appearance: none; -moz-appearance: none; appearance: none; width: 40px; height: 40px; background-color: transparent; border: none; cursor: pointer; padding: 0; border-radius: 50%; overflow: hidden; }
input[type="color"]::-webkit-color-swatch { border-radius: 50%; border: 1px solid var(--input-border); }
input[type="color"]::-moz-color-swatch { border-radius: 50%; border: 1px solid var(--input-border); }

#installments1Value { color: var(--text-color-strong); }

.quick-installments {
    display: flex;
    gap: 10px;
    justify-content: center;
    margin-bottom: 10px;
    flex-wrap: wrap;
}
.quick-installment-btn {
    background-color: var(--input-bg);
    color: var(--text-secondary);
    border: 1px solid var(--input-border);
    border-radius: 10px;
    padding: 6px 12px;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s ease;
}
.quick-installment-btn.active, .quick-installment-btn:hover {
    background-color: var(--primary-color);
    color: #fff;
    border-color: var(--primary-color);
}

.history-accordion .accordion-item {
    background-color: transparent;
    border: 1px solid var(--glass-border);
    border-radius: var(--border-radius);
    margin-bottom: 15px;
    overflow: hidden;
}
.history-accordion .accordion-header button {
    background-color: var(--glass-bg);
    backdrop-filter: blur(5px);
    color: var(--text-color);
    font-weight: 500;
    border-radius: 0 !important;
    box-shadow: none;
    width: 100%;
    text-align: left;
    padding: 15px 20px;
    border: none;
}
.history-accordion .accordion-header button:not(.collapsed) {
    background-color: rgba(var(--primary-color-rgb), 0.1);
    color: var(--primary-color);
}
.history-accordion .accordion-body {
    padding: 20px;
    background-color: rgba(0,0,0,0.1);
    color: var(--text-secondary);
    font-size: 0.9rem;
}
.history-accordion .accordion-body strong {
    color: var(--text-color);
}
.history-accordion .accordion-collapse {
    border-top: 1px solid var(--glass-border);
}
.history-accordion .accordion-button::after {
    filter: brightness(0) invert(1);
    opacity: 0.7;
}
[data-theme="light"] .history-accordion .accordion-button::after {
    filter: none;
}

#top-right-controls {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 15px;
}

.toggle-switch-theme {
    background-color: var(--input-bg);
    border-radius: 20px;
    padding: 2px;
    display: flex;
    border: 1px solid var(--input-border);
    position: relative;
    width: 60px;
    height: 30px;
    cursor: pointer;
}
.toggle-switch-theme input[type="checkbox"] { display: none; }
.toggle-switch-theme label {
    width: 100%;
    height: 100%;
    display: grid;
    grid-template-columns: 1fr 1fr;
    align-items: center;
    text-align: center;
    position: relative;
    cursor: pointer;
    margin: 0;
    color: var(--text-secondary);
}
.toggle-switch-theme label span {
    z-index: 2;
    font-size: 0.8rem;
}
.toggle-switch-theme label::before {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    width: 24px;
    height: 24px;
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    box-shadow: 0 1px 4px rgba(0,0,0,0.2);
    border-radius: 50%;
    transition: transform var(--transition-duration) cubic-bezier(0.25, 0.46, 0.45, 0.94);
    z-index: 1;
}
.toggle-switch-theme input:checked + label::before {
    transform: translateX(calc(100% + 2px));
}
.toggle-switch-theme input:not(:checked) + label span:first-of-type,
.toggle-switch-theme input:checked + label span:last-of-type {
    color: var(--primary-color);
}

#notification-bell {
    position: relative;
    cursor: pointer;
    background-color: var(--glass-bg);
    backdrop-filter: blur(5px);
    border: 1px solid var(--glass-border); color: var(--text-color);
    width: 45px; height: 45px; border-radius: 50%; display: flex;
    align-items: center; justify-content: center; font-size: 1.2rem;
    transition: all var(--transition-duration); box-shadow: 0 4px 15px var(--shadow-color);
}
#notification-bell:hover { transform: scale(1.1); box-shadow: 0 6px 20px var(--shadow-color); }
.notification-badge {
    position: absolute;
    top: -2px; right: -2px;
    width: 20px; height: 20px;
    background-color: var(--primary-color);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    font-weight: 600;
    border: 2px solid var(--tertiary-color);
}

.offcanvas {
    background-color: var(--tertiary-color);
    color: var(--text-color);
    border-left: 1px solid var(--glass-border);
    box-shadow: -10px 0 30px var(--shadow-color);
    backdrop-filter: blur(10px);
    background-color: var(--glass-bg);
}
.offcanvas-header {
    border-bottom: 1px solid var(--glass-border);
}
.offcanvas-header .btn-close {
    filter: invert(1) grayscale(1) brightness(2);
}
[data-theme="light"] .offcanvas-header .btn-close {
    filter: none;
}
#notificationList .list-group-item {
    background-color: transparent;
    border-color: var(--glass-border);
    color: var(--text-secondary);
    cursor: pointer;
    transition: background-color 0.2s ease;
}
#notificationList .list-group-item:hover {
    background-color: rgba(var(--primary-color-rgb), 0.1);
}
#notificationList .list-group-item strong {
    color: var(--text-color);
}

#stockContainer {
    max-width: 100%;
    padding-left: 8px;
    padding-right: 8px;
}
.stock-list-container {
    width: 100%;
}
.stock-item-card {
    background-color: rgba(var(--primary-color-rgb), 0.05);
    border: 1px solid var(--glass-border);
    border-radius: var(--border-radius);
    padding: 15px;
    margin-bottom: 12px;
    display: flex;
    flex-direction: column;
    gap: 12px;
    transition: all var(--transition-duration) ease;
}
.stock-item-card.is-checked {
    opacity: 0.6;
    background-color: transparent;
}
.stock-item-main {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 15px;
}
.product-info {
    flex-grow: 1;
}
.product-name {
    font-weight: 500;
    color: var(--text-color-strong);
}
.stock-item-card:not(.is-checked) .product-name {
    color: var(--primary-color);
}
.stock-item-main .form-check.form-switch .form-check-input {
    width: 3.5em;
    height: 1.75em;
    cursor: pointer;
    margin-left: auto;
}
.stock-item-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 15px;
    padding-top: 12px;
    border-top: 1px solid var(--glass-border);
}
.ignore-toggle-btn i {
    font-size: 1.2rem;
    transition: color 0.2s ease;
}
.ignore-toggle-btn .bi-eye-fill {
    color: var(--text-success);
}
.ignore-toggle-btn .bi-eye-slash-fill {
    color: var(--primary-color);
}

/* NOVO DESIGN PARA ADMIN PRODUTOS (Accordion) */
#productsListContainer {
    display: flex;
    flex-direction: column;
    gap: 10px;
}
.admin-product-accordion {
    background-color: rgba(var(--primary-color-rgb), 0.05);
    border: 1px solid var(--glass-border);
    border-radius: var(--border-radius);
    overflow: hidden;
    transition: all var(--transition-duration) ease;
}
.admin-product-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    cursor: pointer;
    user-select: none;
}
.admin-product-header .product-name-title {
    font-weight: 500;
    font-size: 1rem;
    color: var(--text-color);
}
.admin-product-accordion.is-open .admin-product-header .product-name-title {
    color: var(--primary-color);
}
.admin-product-header i {
    transition: transform 0.3s ease;
    color: var(--text-secondary);
}
.admin-product-accordion.is-open .admin-product-header i {
    transform: rotate(180deg);
}
.admin-product-body {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease-in-out, padding 0.4s ease-in-out;
    padding: 0 20px;
}
.admin-product-accordion.is-open .admin-product-body {
    max-height: 500px; /* Adjust if content is larger */
    padding-bottom: 20px;
}
.admin-product-body .form-group {
    display: flex;
    flex-direction: column;
    gap: 5px;
}
.admin-product-body .form-label {
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--text-secondary);
    margin-bottom: 0;
}
.admin-product-body .form-control,
.admin-product-body .form-select {
    font-size: 0.95rem;
    padding: 10px 12px;
}
.admin-product-card-grid {
    padding-top: 15px;
    margin-top: 15px;
    border-top: 1px solid var(--glass-border);
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
}
.admin-product-card-grid .full-width {
    grid-column: 1 / -1;
}
.admin-product-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 15px;
    margin-top: 15px;
    border-top: 1px solid var(--glass-border);
}

@media (max-width: 480px) {
    .admin-product-card-grid {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 400px) {
    .stock-item-controls {
        flex-direction: column;
        align-items: stretch;
    }
    .stock-item-controls .input-group {
        width: 100%;
        justify-content: center;
    }
    .stock-item-controls .d-flex {
        width: 100%;
        justify-content: space-around;
    }
}

/* CORREÇÃO AQUI */
@media print {
    body, html {
        background: #FFF !important;
        color: #000 !important;
    }
    body::before {
        display: none !important;
    }
    /* Esconde tudo que não for um dos previews de impressão */
    body > *:not(#contractPreview):not(#reportPreview):not(#bookipPreview) {
        display: none !important;
    }
    /* Garante que os previews de impressão fiquem visíveis e bem formatados */
    #contractPreview, #reportPreview, #bookipPreview {
        display: block !important;
        position: static !important;
        margin: 0;
        padding: 0;
        width: 100%;
        height: auto;
        box-shadow: none !important;
        border: none !important;
        page-break-inside: avoid;
    }
    /* Classes para garantir que apenas o preview correto seja mostrado */
    body.print-only-contract #reportPreview,
    body.print-only-contract #bookipPreview {
        display: none !important;
    }
    body.print-only-report #contractPreview,
    body.print-only-report #bookipPreview {
        display: none !important;
    }
    body.print-only-bookip #contractPreview,
    body.print-only-bookip #reportPreview {
        display: none !important;
    }
}

#switch-user-button {
    cursor: pointer;
    background-color: var(--glass-bg);
    backdrop-filter: blur(5px);
    border: 1px solid var(--glass-border);
    color: var(--text-color);
    min-width: 45px;
    height: 45px;
    border-radius: 25px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    transition: all var(--transition-duration);
    box-shadow: 0 4px 15px var(--shadow-color);
    padding: 0 10px;
    gap: 8px;
}
#switch-user-button:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 20px var(--shadow-color);
}
#current-user-name {
    font-size: 0.8rem;
    font-weight: 500;
    white-space: nowrap;
}
#userListContainer .btn-user {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    font-weight: 500;
    padding: 15px;
    border-radius: 12px;
    background-color: var(--input-bg);
    border: 1px solid var(--input-border);
    color: var(--text-color);
}
#userListContainer .btn-user:hover {
    border-color: var(--primary-color);
    background-color: rgba(var(--primary-color-rgb), 0.1);
}
#userListContainer .btn-user .user-role {
    font-size: 0.8rem;
    color: var(--text-secondary);
    text-transform: capitalize;
}
/* --- ESTILOS PARA BOOKIP --- */
#bookipPreview {
    font-family: Arial, sans-serif;
    color: #000;
    background: #FFF;
    font-size: 10pt;
    line-height: 1.4;
}
#bookipPreview h2, #bookipPreview h3 {
    color: #000; text-align: center;
}
#bookipPreview .bookip-page {
    padding: 2cm;
    width: 21cm;
    height: 29.7cm;
    box-sizing: border-box;
    page-break-after: always;
}
#bookipPreview .bookip-header {
    text-align: center;
    margin-bottom: 20px;
}
#bookipPreview .bookip-logo {
    max-width: 150px;
    margin: 0 auto;
}
#bookipPreview .bookip-company-info {
    font-size: 9pt;
    line-height: 1.3;
}
#bookipPreview .bookip-grid {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 20px;
    margin-top: 25px;
}
#bookipPreview .bookip-section-title {
    font-weight: bold;
    font-size: 11pt;
    border-bottom: 1px solid #ccc;
    padding-bottom: 3px;
    margin-top: 15px;
    margin-bottom: 8px;
}
#bookipPreview table {
    width: 100%;
    border-collapse: collapse;
    font-size: 10pt;
}
#bookipPreview th, #bookipPreview td {
    padding: 8px 4px;
    text-align: left;
}
#bookipPreview .items-table th, #bookipPreview .items-table td {
    border-bottom: 1px solid #eee;
}
#bookipPreview .items-table th {
    background-color: #f9f9f9;
}
#bookipPreview .align-right {
    text-align: right;
}
#bookipPreview .totals-table td:first-child {
    font-weight: bold;
}
#bookipPreview .footer-note {
    font-size: 9pt;
    margin-top: 20px;
    border-top: 1px solid #ccc;
    padding-top: 10px;
}
#bookipPreview .garantia-title {
    font-weight: bold;
    font-size: 12pt;
    text-align: center;
    margin-top: 30px;
}
#bookipPreview .garantia-termos {
    font-size: 8pt;
    text-align: justify;
    line-height: 1.5;
}
#bookipPreview .garantia-termos h3 {
    font-size: 10pt;
    font-weight: bold;
    text-align: left;
    margin-top: 15px;
    margin-bottom: 5px;
}
#bookipPreview .garantia-termos ul {
    padding-left: 20px;
    margin: 0;
}
#bookipPreview .bookip-signature {
    width: 250px;
    display: block;
    margin: -30px auto 0 auto;
}

/* Estilo para linhas selecionadas */
.copyable-row.is-selected {
    background-color: rgba(var(--primary-color-rgb), 0.25) !important;
    border-left: 4px solid var(--primary-color);
}
/* Botão Flutuante de Copiar */
#fabCopyMulti {
    position: fixed;
    bottom: 25px;
    right: 25px;
    z-index: 10000;
    padding: 12px 24px;
    border-radius: 50px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.4);
    font-weight: bold;
    display: none; /* Escondido por padrão */
    animation: fadeInUp 0.3s ease;
}
@keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } 
    
    
   /* --- NOVO DESIGN: Card de Produto --- */
.product-action-card {
    background-color: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: 16px;
    padding: 15px;
    margin: 15px auto;
    max-width: 450px;
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 20px var(--shadow-color);
    animation: fadeInAndUp 0.4s ease-out forwards;
    display: flex;
    flex-direction: column;
    gap: 12px;
}
.product-action-header {
    display: flex; justify-content: space-between; align-items: flex-start;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1); padding-bottom: 10px; margin-bottom: 5px;
}
.product-action-info h5 { margin: 0; font-size: 1rem; font-weight: 600; text-align: left; color: var(--text-color); }
.product-action-date { font-size: 0.75rem; color: var(--text-secondary); }
.product-action-colors { display: flex; flex-wrap: wrap; gap: 6px; align-items: center; }
.color-pill {
    display: flex; align-items: center; gap: 6px; background-color: var(--input-bg);
    border: 1px solid var(--glass-border); padding: 4px 10px; border-radius: 20px;
    font-size: 0.8rem; color: var(--text-color);
}
.product-action-buttons { display: flex; gap: 10px; margin-top: 5px; }
/* Estilo dos Botões do Card (DESIGN CORRIGIDO) */
.product-action-buttons {
    display: flex;
    gap: 12px; /* Mais espaço entre os botões */
    margin-top: 8px;
}

.btn-action-sm {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 10px 12px; /* Um pouco mais gordinho */
    border-radius: 20px; /* BEM arredondado (pílula) */
    font-size: 0.85rem;
    font-weight: 600; /* Letra um pouco mais grossa */
    border: none; /* Remove a borda feia */
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1); /* Sombra suave */
}

/* Botão de Editar Valor (Verde suave para dinheiro) */
.edit-price-btn {
    background-color: rgba(var(--text-success), 0.15); 
    color: var(--text-success);
}
.edit-price-btn:hover {
    background-color: var(--text-success);
    color: #fff;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(var(--text-success), 0.4);
}

/* Botão de Editar Cores (Roxo/Azul suave para design) */
.edit-colors-btn {
    background-color: rgba(var(--primary-color-rgb), 0.15);
    color: var(--primary-color);
}
.edit-colors-btn:hover {
    background-color: var(--primary-color);
    color: #fff;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(var(--primary-color-rgb), 0.4);
}

/* Ajuste nos ícones dentro dos botões */
.btn-action-sm i {
    font-size: 1rem;
}

    /* --- CORREÇÃO DE LAYOUT DO CARD --- */

/* 1. Cores lado a lado (Inline) */
.product-action-colors {
    display: flex;
    flex-wrap: wrap; /* Se tiver muitas cores, quebra linha de forma bonita */
    gap: 8px; /* Espaço entre as cores */
    align-items: center;
    margin: 10px 0; /* Espaço acima e abaixo */
}

/* Estilo da "etiqueta" de cor individual */
.color-pill {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    background-color: rgba(255, 255, 255, 0.05); /* Fundo bem sutil */
    border: 1px solid var(--glass-border);
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 0.85rem;
    color: var(--text-secondary);
    white-space: nowrap;
}

/* A bolinha da cor */
.color-swatch-sm {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    border: 1px solid rgba(255,255,255,0.2);
    display: inline-block;
}

/* 2. Cabeçalho do Card (Nome + Data + Botão X) */
.product-action-header {
    display: flex;
    justify-content: space-between; /* Joga o texto pra esq e o X pra direita */
    align-items: flex-start;
    padding-bottom: 5px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    margin-bottom: 5px;
}

/* 3. O Botão "X" Moderno */
.btn-remove-card {
    background: transparent; /* Remove o fundo cinza feio */
    border: none; /* Remove a borda quadrada */
    color: #ff4d4d; /* Cor vermelha suave */
    font-size: 1.2rem;
    line-height: 1;
    cursor: pointer;
    padding: 5px;
    margin-left: 10px;
    transition: transform 0.2s, color 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.btn-remove-card:hover {
    transform: scale(1.2); /* Aumenta um pouco ao passar o mouse */
    color: #ff0000;
}
/* --- MELHORIAS VISUAIS DO ESTOQUE --- */

/* 1. Botões de Quantidade Redondos e Modernos */
.stock-qty-btn {
    width: 32px;
    height: 32px;
    border-radius: 50% !important; /* Totalmente redondo */
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid var(--glass-border);
    background-color: rgba(255, 255, 255, 0.05);
    color: var(--text-color);
    transition: all 0.2s ease;
    padding: 0; /* Remove preenchimento extra */
}

.stock-qty-btn:hover {
    background-color: var(--primary-color);
    color: white;
    transform: scale(1.1);
    border-color: var(--primary-color);
}

.stock-qty-input {
    background: transparent !important;
    border: none !important;
    color: var(--text-color) !important;
    font-weight: 700 !important;
    font-size: 1.1rem !important;
    max-width: 50px !important; /* Menor largura */
}

/* Container dos botões de quantidade */
.input-group-sm {
    background-color: var(--input-bg);
    border-radius: 20px;
    padding: 4px;
    border: 1px solid var(--glass-border);
    gap: 5px; /* Espaço entre os botões */
}

/* 2. Visual de "Item Conferido" (Brilho Verde em vez de apagado) */
.stock-item-card {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid var(--glass-border);
}

.stock-item-card.is-checked {
    opacity: 1 !important; /* Remove a transparência antiga */
    border-color: var(--text-success) !important; /* Borda verde */
    background: linear-gradient(90deg, rgba(var(--text-success), 0.05) 0%, rgba(var(--primary-color-rgb), 0.05) 100%);
    box-shadow: 0 0 15px rgba(22, 163, 74, 0.15); /* Brilho verde suave */
}

.stock-item-card.is-checked .product-name {
    color: var(--text-success) !important; /* Nome fica verde */
    text-decoration: none; /* Garante que não tenha risco */
}

/* Ícone de check do switch mais evidente */
.form-check-input:checked {
    background-color: var(--text-success);
    border-color: var(--text-success);
    filter: drop-shadow(0 0 2px rgba(0,255,0,0.5));
}

    /* --- TEMAS DE CORES PERSONALIZADOS --- */

/* 1. AZUL CYBER (Cyber Blue) */
body[data-color="blue"] {
    --primary-color: #2979FF;
    --primary-color-rgb: 41, 121, 255;
    --glow-1: #00B0FF; --glow-2: #2979FF;
}
/* Fundo especial azulado apenas no modo escuro */
body[data-color="blue"][data-theme="dark"] {
    --tertiary-color: #0B1120;
    --glass-bg: rgba(30, 41, 59, 0.75);
    --input-bg: rgba(15, 23, 42, 0.6);
}

/* 2. VERDE DINHEIRO (Emerald) */
body[data-color="green"] {
    --primary-color: #00C853;
    --primary-color-rgb: 0, 200, 83;
    --glow-1: #00E676; --glow-2: #FFD600;
}
body[data-color="green"][data-theme="dark"] {
    --tertiary-color: #050505;
    --glass-bg: rgba(20, 20, 20, 0.8);
}

/* 3. ROXO NUBANK (Deep Purple) */
body[data-color="purple"] {
    --primary-color: #8B5CF6;
    --primary-color-rgb: 139, 92, 246;
    --glow-1: #7C3AED; --glow-2: #EC4899;
}
body[data-color="purple"][data-theme="dark"] {
    --tertiary-color: #0F0720;
    --glass-bg: rgba(46, 16, 101, 0.5);
    --input-bg: rgba(0, 0, 0, 0.3);
}

/* 4. LARANJA SUNSET (Orange) */
body[data-color="orange"] {
    --primary-color: #FF6D00;
    --primary-color-rgb: 255, 109, 0;
    --glow-1: #FFAB00; --glow-2: #FF3D00;
}

/* Botão do Pincel (Para abrir o menu) */
#theme-palette-btn {
    width: 45px; height: 45px;
    border-radius: 50%;
    background-color: var(--glass-bg);
    border: 1px solid var(--glass-border);
    color: var(--text-color);
    display: flex; align-items: center; justify-content: center;
    cursor: pointer;
    box-shadow: 0 4px 15px var(--shadow-color);
    transition: transform 0.2s;
    backdrop-filter: blur(5px);
}
#theme-palette-btn:hover { transform: scale(1.1); }

/* Botões de escolha de cor no Modal */
.theme-option-btn {
    width: 50px; height: 50px; border-radius: 50%; border: 2px solid transparent;
    cursor: pointer; transition: transform 0.2s;
    display: flex; align-items: center; justify-content: center;
    color: white; font-size: 1.2rem;
}
.theme-option-btn:hover { transform: scale(1.1); }
.theme-option-btn.active { border-color: #FFF; box-shadow: 0 0 10px rgba(255,255,255,0.5); }
    
    /* --- PACOTE DE ANIMAÇÕES PREMIUM (UI MOTION) --- */

/* 1. Animação de Entrada de Tela (Slide Up Suave) */
/* Aplica em todas as seções principais quando aparecem */
.container:not(.hidden), .content-card, .admin-section {
    animation: slideUpFade 0.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
}

@keyframes slideUpFade {
    from {
        opacity: 0;
        transform: translateY(20px) scale(0.98); /* Começa um pouco menor e mais baixo */
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* 2. Botões "Elásticos" (Clicky Buttons) */
/* Dá sensação de clique físico */
.btn:active, .btn-menu:active, .stock-qty-btn:active, .theme-option-btn:active {
    transform: scale(0.92) !important; /* Encolhe mais ao clicar */
    transition: transform 0.1s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 3. Modals com Zoom (Pop-in) */
.custom-modal-overlay.active .custom-modal-content {
    animation: modalPopIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes modalPopIn {
    from {
        opacity: 0;
        transform: scale(0.8) translateY(10px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* 4. Inputs com Foco Brilhante (Glow) */
.form-control, .form-select {
    transition: all 0.3s ease, box-shadow 0.3s ease, transform 0.2s;
}
.form-control:focus, .form-select:focus {
    transform: translateY(-2px); /* Levanta levemente ao digitar */
    box-shadow: 0 10px 20px rgba(0,0,0,0.2), 0 0 0 2px var(--primary-color) !important;
}

/* 5. Efeito Cascata para Listas (Stagger) */
/* Faz os itens do estoque e notificações aparecerem um depois do outro */
.stock-item-card, .notification-item, .admin-product-accordion {
    animation: fadeInStagger 0.4s ease forwards;
    opacity: 0; /* Começa invisível */
}

/* Define atrasos para os primeiros 10 itens (efeito dominó) */
.stock-item-card:nth-child(1), .notification-item:nth-child(1) { animation-delay: 0.05s; }
.stock-item-card:nth-child(2), .notification-item:nth-child(2) { animation-delay: 0.1s; }
.stock-item-card:nth-child(3), .notification-item:nth-child(3) { animation-delay: 0.15s; }
.stock-item-card:nth-child(4), .notification-item:nth-child(4) { animation-delay: 0.2s; }
.stock-item-card:nth-child(5), .notification-item:nth-child(5) { animation-delay: 0.25s; }
/* ...os outros aparecem normalmente depois */

@keyframes fadeInStagger {
    from {
        opacity: 0;
        transform: translateX(-10px); /* Entra vindo da esquerda */
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* 6. Cards de Vidro (Hover) */
/* Quando passar o mouse (no PC) o cartão brilha */
.product-action-card:hover, .stock-item-card:hover {
    border-color: rgba(255, 255, 255, 0.3);
    box-shadow: 0 8px 32px rgba(var(--primary-color-rgb), 0.15);
}

/* --- DYNAMIC ISLAND TOAST (Notificações Estilo iPhone) --- */
#toastNotification {
    /* Posicionamento e Tamanho */
    position: fixed;
    top: 10px; /* Começa um pouco mais pra cima */
    left: 50%;
    transform: translateX(-50%) scale(0.9); /* Começa levemente menor */
    
    /* Visual Premium */
    background: rgba(15, 15, 20, 0.95); /* Quase preto sólido */
    color: #fff;
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: 50px; /* Pílula perfeita */
    padding: 12px 24px;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(10px);
    
    /* Layout Interno */
    display: flex;
    align-items: center;
    gap: 12px;
    font-weight: 600;
    font-size: 0.95rem;
    white-space: nowrap;
    z-index: 10001;
    
    /* Estado Inicial (Escondido) */
    opacity: 0;
    visibility: hidden;
    
    /* Animação Elástica (O Segredo!) */
    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
}

/* Quando Ativo */
#toastNotification.show {
    top: 25px; /* Desce para a posição visível */
    transform: translateX(-50%) scale(1); /* Cresce para o tamanho normal */
    opacity: 1;
    visibility: visible;
}

/* Ícone dentro da notificação */
#toastNotification i {
    font-size: 1.2rem;
}
/* Sucesso (Verde) */
#toastNotification.success i { color: #00E676; }
/* Erro (Vermelho) */
#toastNotification.error i { color: #FF5252; }
/* --- BOTÕES DE FILTRO RÁPIDO (CHIPS) --- */
.chip-scroll-container {
    display: flex;
    gap: 8px;
    overflow-x: auto;
    padding: 2px 2px 10px 2px;
    margin-bottom: 5px;
    -webkit-overflow-scrolling: touch; /* Rolagem macia no iPhone */
    scrollbar-width: none; /* Esconde barra no Firefox */
    mask-image: linear-gradient(to right, black 90%, transparent 100%); /* Fade no final */
}
.chip-scroll-container::-webkit-scrollbar { display: none; } /* Esconde barra no Chrome */

.chip-btn {
    white-space: nowrap;
    padding: 8px 16px;
    border-radius: 50px;
    border: 1px solid var(--glass-border);
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-secondary);
    font-size: 0.85rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    flex-shrink: 0; /* Não deixa esmagar o botão */
}

.chip-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateY(-2px);
}

.chip-btn.active {
    background: var(--primary-color);
    color: #fff;
    border-color: var(--primary-color);
    box-shadow: 0 4px 12px rgba(var(--primary-color-rgb), 0.4);
}

    
/* --- ESTILOS DO BOOKIP (DESIGN PREMIUM - REF: WORKCELL) --- */

/* --- ESTILOS DO BOOKIP (LAYOUT "NOTA DE GARANTIA") --- */

/* Esconde o preview na tela normal do app */
#bookipPreview {
    display: none;
}

/* Configuração de Impressão */
@media print {
    /* Esconde todo o app, EXCETO o preview */
    body:not(.print-bookip) * {
        display: none !important;
    }

    body.print-bookip #bookipPreview {
        display: block !important;
    }

    * { 
        -webkit-print-color-adjust: exact !important; 
        print-color-adjust: exact !important; 
    }
}
    /* Mostra só o recibo */
    body.print-bookip #bookipPreview { 
        display: block !important; 
        position: absolute; 
        top: 0; 
        left: 0; 
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        background: #fff;
        z-index: 9999;
    }

    /* Força a impressão das cores de fundo (barra colorida) */
    * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
}

/* O DESIGN DO DOCUMENTO */
#bookipPreview {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #333;
    line-height: 1.3;
    font-size: 10pt; /* Tamanho de letra padrão de documento */
    padding: 10mm; /* Margem da folha A4 */
    box-sizing: border-box;
    max-width: 210mm;
    margin: 0 auto;
}

/* 1. Cabeçalho (Logo Esq | Texto Dir) */
.bk-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 30px;
}

.bk-logo-area {
    width: 200px;
    height: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
}
.bk-logo-img {
    width: 100%;
    height: auto;
    object-fit: contain;
}

.bk-company-info {
    text-align: right;
    font-size: 9pt;
    color: #444;
}
.bk-title-main {
    font-size: 22pt;
    font-weight: 400; /* Leve */
    color: #000;
    margin-bottom: 5px;
    line-height: 1.1;
}
.bk-title-sub {
    font-size: 22pt;
    font-weight: 700; /* Negrito */
    color: #000;
    margin-bottom: 15px;
    line-height: 1.1;
}

/* 2. Grid de Informações (Cliente | Datas) */
.bk-info-grid {
    display: flex;
    justify-content: space-between;
    margin-bottom: 20px;
    border-top: 1px solid #ddd;
    padding-top: 15px;
}

.bk-col-client { flex: 2; padding-right: 20px; }
.bk-col-dates { flex: 1; }

.bk-label-bold {
    font-weight: 700;
    font-size: 10pt;
    color: #000;
    margin-bottom: 2px;
    display: block;
}
.bk-text {
    font-size: 10pt;
    color: #333;
    margin-bottom: 10px;
    display: block;
}

/* Tabela de Datas na direita */
.bk-date-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 4px;
    font-size: 9pt;
}
.bk-date-label { font-weight: 700; color: #000; }
.bk-date-val { text-align: right; }

/* 3. Tabela de Produtos (Barra Colorida) */
.bk-table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 20px;
}
.bk-table th {
    background-color: var(--primary-color); /* Usa a cor do tema do app */
    color: #fff;
    padding: 8px 10px;
    text-align: left;
    font-weight: 600;
    font-size: 9pt;
    text-transform: uppercase;
}
.bk-table td {
    padding: 10px;
    border-bottom: 1px solid #eee;
    vertical-align: top;
    font-size: 10pt;
}
.bk-table td:last-child, .bk-table th:last-child { text-align: right; }

/* Detalhes do produto (marca, cor, etc) */
.bk-prod-desc { font-weight: 700; font-size: 10pt; display: block; }
.bk-prod-meta { font-size: 9pt; color: #666; display: block; margin-top: 3px; }

/* 4. Totais e "Valor Pago" */
.bk-totals-area {
    display: flex;
    justify-content: flex-end;
    margin-bottom: 30px;
}
.bk-totals-box {
    width: 250px;
}
.bk-total-row {
    display: flex;
    justify-content: space-between;
    padding: 5px 0;
    font-size: 10pt;
    border-bottom: 1px solid #eee;
}
.bk-total-final {
    display: flex;
    justify-content: space-between;
    background-color: #f0f0f0; /* Fundo cinza igual da foto */
    padding: 10px;
    margin-top: 5px;
    font-weight: 700;
    color: #000;
    font-size: 11pt;
}
.bk-total-highlight { color: #2e7d32; } /* Verde escuro para o valor */

/* 5. Termos e Garantia */
.bk-terms-area {
    font-size: 9pt;
    color: #333;
    text-align: justify;
}
.bk-section-title {
    font-weight: 700;
    font-size: 10pt;
    text-transform: uppercase;
    margin-top: 20px;
    margin-bottom: 5px;
    color: #000;
}
.bk-warning-box {
    border: 1px dashed #000;
    padding: 10px;
    margin: 15px 0;
    font-weight: 700;
    text-align: center;
    background-color: #fafafa;
}



/* ============================================================
   /* ============================================================
   ESTILO DA TELA DE CLIENTES (COM !IMPORTANT PARA FORÇAR)
   ============================================================ */

/* 1. Barra de Pesquisa (Forçando o visual) */
#clientsContainer .input-group-text {
    background-color: var(--input-bg) !important;
    border: 1px solid var(--input-border) !important;
    border-right: none !important;
    color: var(--text-secondary) !important;
}

#clientSearchInput {
    background-color: var(--input-bg) !important;
    border: 1px solid var(--input-border) !important;
    border-left: none !important;
    color: var(--text-color) !important;
    box-shadow: none !important;
}

/* Foco */
#clientSearchInput:focus, #clientsContainer .input-group:focus-within .input-group-text {
    border-color: var(--primary-color) !important;
    box-shadow: 0 0 0 0.2rem rgba(var(--primary-color-rgb), 0.15) !important;
}

/* 2. Tabela Transparente (A Marreta no Bootstrap) */
#clientsTableBody tr {
    background-color: transparent !important; /* Remove fundo branco da linha */
    border-bottom: 1px solid var(--glass-border) !important;
}

/* Remove fundo branco das CÉLULAS também (O Bootstrap põe cor aqui as vezes) */
#clientsTableBody td {
    background-color: transparent !important;
    color: var(--text-color) !important;
    vertical-align: middle !important;
    border: none !important;
}

/* Efeito Hover (Passar o mouse) */
#clientsTableBody tr:hover td {
    background-color: rgba(var(--primary-color-rgb), 0.1) !important;
}

/* 3. Botões de Ação */
.client-action-btn {
    width: 40px !important;
    height: 40px !important;
    border-radius: 50% !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    border: 1px solid transparent !important;
    background: transparent; /* Reset */
}

/* Botão EDITAR (Pega cor do tema) */
.btn-edit-theme {
    background-color: rgba(var(--primary-color-rgb), 0.15) !important;
    color: var(--primary-color) !important;
    border-color: rgba(var(--primary-color-rgb), 0.3) !important;
}

/* Botão EXCLUIR (Vermelho) */
.btn-delete-theme {
    background-color: rgba(255, 82, 82, 0.15) !important;
    color: #ff5252 !important;
    border-color: rgba(255, 82, 82, 0.3) !important;
}
/* ============================================================
   /* ============================================================
   OTIMIZAÇÃO DE PERFORMANCE (ANTI-LAG)
   ============================================================ */

/* 1. Remove o efeito de vidro dos inputs (Isso pesa muito no scroll) */
.form-control, .form-select {
    backdrop-filter: none !important; 
    -webkit-backdrop-filter: none !important;
    /* Usa uma cor sólida levemente transparente em vez de calcular o blur */
    background-color: var(--input-bg) !important; 
    /* Força o celular a usar a placa de vídeo (GPU) para desenhar */
    transform: translate3d(0,0,0); 
}

/* 2. Otimiza o container principal para não redesenhar tudo ao rolar */
.content-card {
    will-change: transform; 
    transform: translate3d(0,0,0);
}

/* 3. Reduz a complexidade da sombra nos itens de lista (como as notificações) */
.list-group-item {
    box-shadow: none !important;
    border: 1px solid var(--glass-border) !important;
}
/* =========================================
   CORREÇÃO DO PDF (COLE NO FINAL DO ARQUIVO)
   ========================================= */
#bookipPreview.generating-pdf {
    display: block !important;       /* Obriga a aparecer */
    position: fixed !important;      /* Trava na tela */
    top: 0 !important;               /* Cola no topo */
    left: 0 !important;              /* Cola na esquerda */
    width: 100% !important;          /* Ocupa largura total */
    height: 100% !important;         /* Ocupa altura total */
    background-color: white !important; /* Fundo BRANCO (evita transparência) */
    z-index: 10000 !important;       /* Fica ACIMA do app */
    overflow-y: scroll !important;   /* Permite rolar se precisar */
}
/* ============================================================
   ESTILO DO POP-UP DE SUCESSO (COLE NO FINAL DO ARQUIVO)
   ============================================================ */

/* Quando o #postSaveOptions NÃO estiver escondido, ele vira um container de tela cheia */
#postSaveOptions:not(.hidden) {
    position: fixed !important;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 12000 !important; /* Bem alto para ficar na frente de tudo */
    display: flex !important;
    align-items: center;
    justify-content: center;
    margin: 0 !important;
    padding: 20px;
    background: transparent; /* O fundo escuro é feito pelo backdrop abaixo */
}

/* O Fundo Escuro (Dimmer) */
#postSaveOptions .popup-backdrop {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.85); /* Bem escuro para focar */
    backdrop-filter: blur(5px); /* Desfoque no fundo */
    z-index: 1;
    animation: fadeIn 0.3s ease;
}

/* O Cartão Central (Pop-up) */
#postSaveOptions .popup-card {
    position: relative;
    z-index: 2;
    background: #1e1e1e; /* Cinza quase preto */
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 24px;
    padding: 30px;
    width: 100%;
    max-width: 350px;
    text-align: center;
    box-shadow: 0 20px 50px rgba(0,0,0,0.5);
    animation: popInElastic 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* Animação de entrada elástica (Pulo) */
@keyframes popInElastic {
    0% { opacity: 0; transform: scale(0.8); }
    100% { opacity: 1; transform: scale(1); }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}
/* =========================================
   ESTILO DOS BOTÕES NOVO / SEMINOVO
   ========================================= */
.tag-option {
    cursor: pointer;
    background: rgba(255, 255, 255, 0.05); /* Fundo transparente */
    border: 1px solid var(--glass-border);
    color: var(--text-secondary);          /* Texto cinza */
    font-weight: 500;
    font-size: 0.75rem;
    opacity: 0.6;                          /* Meio apagado */
    transition: all 0.2s ease;
}

/* Quando estiver SELECIONADO */
.tag-option.active {
    background: var(--primary-color) !important; /* Cor do tema */
    color: white !important;                     /* Texto branco */
    border-color: var(--primary-color) !important;
    opacity: 1;                                  /* Totalmente visível */
    transform: scale(1.05);                      /* Cresce um pouquinho */
    box-shadow: 0 2px 8px rgba(var(--primary-color-rgb), 0.4);
}
/* Botões da aba Documentos (mesmo tamanho da tela inicial) */
.btn-document {
    width: 100%;
    max-width: 320px; /* MESMO padrão da tela inicial */
    margin: 0 auto 15px auto; /* centraliza */
    padding: 16px 24px;
    border-radius: var(--border-radius);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
}


/* === BOTÕES DA ABA DOCUMENTOS === */
#documentsHome .documents-buttons {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center !important; /* MATA o stretch */
}

#documentsHome .documents-buttons .btn-menu {
    width: 100% !important;
    max-width: 320px !important; /* MESMO DA HOME */
}

/* =========================================
   /* =========================================
   ESTILO DA LISTA DE PRODUTOS (CORRIGIDO VERTICAL)
   ========================================= */
.bookip-item-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    padding: 12px 15px;
    margin-bottom: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center; /* Centraliza verticalmente os dois lados */
    transition: all 0.2s ease;
}

.bookip-item-card:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(255, 255, 255, 0.2);
}

/* Lado Esquerdo: Texto */
.bk-info {
    flex: 1;
    text-align: left;
    padding-right: 15px; /* Mais espaço para não grudar na direita */
    min-width: 0; /* Permite que o texto quebre linha se precisar */
}

.bk-title {
    font-weight: 700;
    font-size: 0.95rem;
    color: var(--text-color);
    margin-bottom: 4px;
    line-height: 1.2;
    word-wrap: break-word; /* Quebra nomes muito longos */
}

.bk-details {
    font-size: 0.8rem;
    color: var(--text-secondary);
    opacity: 0.8;
}

/* --- MUDANÇA AQUI: Lado Direito Vertical --- */
.bk-actions-area {
    display: flex;
    flex-direction: column; /* Empilha um em cima do outro */
    align-items: flex-end; /* Alinha tudo à direita */
    justify-content: center;
    gap: 8px; /* Espaço entre o preço e os botões */
    min-width: fit-content; /* Garante que não amasse */
}

.bk-price {
    font-weight: 800;
    color: var(--text-success); /* Verde */
    font-size: 1.1rem;
    white-space: nowrap; /* Preço sempre numa linha só */
    line-height: 1;
}

.bk-buttons {
    display: flex;
    gap: 8px; /* Espaço entre os botões */
}
/* ------------------------------------------ */

/* Botões Redondos (Lápis e Lixo) - Mantidos iguais */
.btn-icon-circle {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: transform 0.2s;
    background: rgba(255, 255, 255, 0.05);
}

.btn-icon-circle:hover { transform: scale(1.1); }
.btn-edit-c { color: #ffc107; border: 1px solid rgba(255, 193, 7, 0.3); }
.btn-edit-c:hover { background: rgba(255, 193, 7, 0.1); }
.btn-del-c { color: #ef4444; border: 1px solid rgba(239, 68, 68, 0.3); }
.btn-del-c:hover { background: rgba(239, 68, 68, 0.1); }
/* ============================================================
   ESTILO DA BARRA DE BUSCA "GLASS" (VIDRO UNIFICADO)
   ============================================================ */

/* 1. O Container (A "Cápsula" de Vidro) */
#bookipSearchContainer .input-group {
    background: rgba(0, 0, 0, 0.25) !important; /* Fundo escuro transparente */
    backdrop-filter: blur(10px) !important;      /* Desfoque de vidro */
    -webkit-backdrop-filter: blur(10px) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important; /* Borda fina */
    border-radius: 15px !important;              /* Bem redondo */
    box-shadow: 0 4px 6px rgba(0,0,0,0.05);
    overflow: hidden; /* Garante que nada saia das bordas redondas */
}

/* 2. O Campo de Texto (Totalmente Transparente) */
#bookipHistorySearch {
    background-color: transparent !important; /* O TRUQUE: Fundo invisível */
    border: none !important;                  /* Sem bordas cortando */
    color: var(--text-color) !important;      /* Texto na cor do tema */
    box-shadow: none !important;              /* Remove brilho azul ao clicar */
    padding-left: 0 !important;               /* Cola na lupa */
}

/* 3. A Lupa e o Calendário (Ícones Transparentes) */
#bookipSearchContainer .input-group-text {
    background-color: transparent !important; /* Fundo invisível */
    border: none !important;
    color: rgba(255, 255, 255, 0.5) !important; /* Cor suave para os ícones */
    padding-right: 10px;
}

/* Quando clica para digitar, a barra inteira brilha um pouco */
#bookipSearchContainer .input-group:focus-within {
    border-color: var(--primary-color) !important;
    background: rgba(0, 0, 0, 0.35) !important;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
}

html, body {
    /* 1. TRAVA O ELÁSTICO: Impede que a tela "quique" e mostre o fundo vazio */
    overscroll-behavior-y: none;

    /* 2. Garante que seu tema de fumaça cubra a tela toda (até em celulares altos) */
    min-height: 100vh;
    width: 100%;

    /* 3. Ajustes básicos de layout (sem mexer em cores) */
    margin: 0;
    padding: 0;
    scroll-behavior: smooth;
}
/* --- SOLUÇÃO ANTI-ELÁSTICO (NUCLEAR) --- */

html, body {
    /* 1. Trava a página inteira na tela */
    position: fixed !important;
    width: 100% !important;
    height: 100% !important;
    
    /* 2. Proíbe rolagem na raiz (mata o elástico do navegador) */
    overflow: hidden !important;
    overscroll-behavior: none !important;
    
    /* 3. Garante que o fundo do "buraco" seja da cor do seu app */
    background-color: var(--tertiary-color) !important;
}


/* Agora, quem rola é SÓ o container, não a página */
.container {
    /* Ocupa todo o espaço disponível */
    height: 100% !important;
    width: 100% !important;
    
    /* Habilita rolagem interna */
    overflow-y: auto !important;
    overflow-x: hidden !important;
    
    /* Rolagem macia no iOS */
    -webkit-overflow-scrolling: touch !important;
    
    /* Mantém o elástico só DENTRO do app (opcional, fica mais nativo) */
    overscroll-behavior-y: contain; 
    
    /* Espaço extra no final para não cortar conteúdo */
    padding-bottom: 120px !important; 
}
/* --- FUNDO TURBO: "MOVIMENTO VIVO" (Leve, mas se mexe de verdade) --- */

.turbo-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    background-color: var(--tertiary-color);
    overflow: hidden;
    contain: strict;
}

.light-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px); /* Aumentei o blur pra ficar mais suave */
    opacity: 0.4;
    
    /* Aceleração de Hardware ativada */
    will-change: transform; 
}

/* Luz 1: A Principal (Mais agitada) */
.orb-1 {
    top: -20%;
    left: -20%;
    width: 100vw; /* Bem grande pra cobrir a tela */
    height: 100vw;
    background: var(--primary-color);
    
    /* Mudei para 8s (mais rápido) e movimento complexo */
    animation: orbMove1 12s infinite alternate ease-in-out;
}

/* Luz 2: A Secundária (Contraste) */
.orb-2 {
    bottom: -20%;
    right: -20%;
    width: 90vw;
    height: 90vw;
    background: radial-gradient(circle, #4f46e5 0%, transparent 70%);
    
    /* Tempo diferente pra não ficarem sincronizadas */
    animation: orbMove2 15s infinite alternate ease-in-out;
}

/* AQUI ESTÁ A MUDANÇA:
   Antes andava 30px. Agora anda 150px a 200px (bastante chão!)
*/
@keyframes orbMove1 {
    0% {
        transform: translate3d(0, 0, 0) scale(1);
    }
    100% {
        transform: translate3d(150px, 100px, 0) scale(1.1);
    }
}

@keyframes orbMove2 {
    0% {
        transform: translate3d(0, 0, 0) scale(1);
    }
    100% {
        transform: translate3d(-150px, -80px, 0) scale(1.2);
    }
}

.container {
    min-height: 100vh;
    height: auto;
    overflow-y: visible;
}
html, body {
    height: auto;
    min-height: 100%;
    overflow-y: auto;
}
#documentsHome {
    min-height: 100vh;
}

/* === CORREÇÃO DE ROLAGEM DA ABA DOCUMENTOS === */
#contractContainer {
    position: fixed;   /* Solta a aba da trava do corpo do site */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;      /* Ocupa a tela toda */
    overflow-y: auto;  /* OBRIGA a barra de rolagem aparecer */
    z-index: 50;       /* Garante prioridade */
    padding-bottom: 150px; /* Espaço para o botão salvar */
    
    /* Garante rolagem macia no iPhone */
    -webkit-overflow-scrolling: touch; 
}

/* Mantém o comportamento de esconder */
#contractContainer.hidden {
    display: none !important;
}
/* ================================================= */
/* 👥 ESTILO NOVO DA EQUIPE (GRADE E CARTÕES)      */
/* ================================================= */

/* 1. O Container da Lista (A Grade) */
#profilesList {
    display: grid;
    /* Cria colunas de no mínimo 110px. Se couber mais, ele cria mais colunas */
    grid-template-columns: repeat(auto-fill, minmax(110px, 1fr)); 
    gap: 15px; /* Espaço entre os cartões */
    padding: 10px 5px;
}

/* 2. O Cartão Individual */
.team-card {
    background: var(--glass-bg); /* Fundo de vidro */
    border: 1px solid var(--glass-border);
    border-radius: 16px;
    padding: 15px 10px;
    
    /* Centraliza tudo */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    
    height: 100%; /* Garante altura igual pra todos */
    position: relative; /* Para posicionar a lixeira no canto */
    transition: transform 0.2s;
}

/* Efeito ao tocar */
.team-card:active {
    transform: scale(0.95);
}

/* A bolinha da Inicial */
.team-avatar {
    width: 50px; 
    height: 50px; 
    border-radius: 50%; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    font-weight: bold; 
    color: #fff; 
    font-size: 1.4rem; 
    margin-bottom: 10px; 
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}

/* O Botão de Lixeira (No cantinho) */
.btn-delete-card {
    position: absolute;
    top: 5px;
    right: 5px;
    opacity: 0.5;
    padding: 5px;
    color: #ff4d4d;
}

@media print {
    body, html {
        background: #FFF !important;
        color: #000 !important;
        
        /* O SEGREDO: Destrava a altura e a rolagem para a impressora ver tudo */
        height: auto !important;
        overflow: visible !important;
        position: static !important;
    }

    body::before {
        display: none !important;
    }

    /* O restante do seu código print continua aqui... */
    body > *:not(#contractPreview):not(#reportPreview):not(#bookipPreview) {
        display: none !important;
    }
    /* ... */
}
/* ============================================================
   🚀 TURBO GPU (MANTÉM O VISUAL, ACELERA O MOTOR)
   Força o uso da placa de vídeo para os efeitos de vidro e luz
   ============================================================ */

/* 1. Otimiza os elementos de Vidro (Cards e Menu) */
.content-card, 
.btn-menu, 
.admin-section, 
.stock-item-card,
.custom-modal-content {
    /* Cria uma camada exclusiva na GPU para cada vidro */
    transform: translate3d(0, 0, 0); 
    -webkit-transform: translate3d(0, 0, 0);
    
    /* Avisa o navegador que esses itens são complexos */
    will-change: backdrop-filter, transform; 
    
    /* Estabiliza a pintura do elemento */
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
}

/* 2. Otimiza a Luz de Fundo (Para ela girar sem travar a digitação) */
body::before {
    /* Otimiza a animação 'moveGlow' para não recalcular a tela toda */
    will-change: background-position;
    transform: translateZ(0); /* Aceleração de hardware */
}

/* 3. Destrava o Teclado (O mais importante) */
/* Isola os campos de texto para que o cursor pisque rápido */
.form-control, .form-select {
    transform: translateZ(0);
    will-change: transform;
}
/* --- PROTEÇÃO CONTRA CORTE DE PÁGINA --- */
.no-break {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
}

/* Proteção genérica para tabelas e cards */
tr, td, .card, .list-group-item {
    page-break-inside: avoid !important;
}

/* Isso garante que o seu banner de confirmação ganhe de qualquer modal do Bootstrap */
#customModal {
    z-index: 10000 !important;
}

/* Garante que o fundo escuro do banner também fique por cima do modal da lixeira */
#customModal + .modal-backdrop, 
.modal-backdrop:last-of-type {
    z-index: 9999 !important;
}
.btn-action:active {
    transform: scale(0.92);
    transition: transform 0.1s;
}
